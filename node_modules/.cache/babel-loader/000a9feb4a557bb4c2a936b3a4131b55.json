{"ast":null,"code":"import _regeneratorRuntime from\"/home/clepson/Documentos/minhas-financas-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/clepson/Documentos/minhas-financas-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/clepson/Documentos/minhas-financas-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/clepson/Documentos/minhas-financas-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/clepson/Documentos/minhas-financas-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/clepson/Documentos/minhas-financas-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Card from\"../components/card\";import FormGroup from\"../components/form-group\";import{withRouter}from\"react-router-dom\";import UsuarioService from\"../app/service/usuarioService\";import LocalStorageService from\"../app/service/localStorageService\";import{mensagemErro}from\"../components/toastr\";import{AuthContext}from'../main/provedorAutenticacao';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.state={email:'',senha:''};_this.entrar=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://console.log('email: '+this.state.email);\n//console.log('senha: '+this.state.senha);\n_this.service.autenticar({email:_this.state.email,senha:_this.state.senha}).then(function(response){try{//console.log(response)\n//localStorage.setItem('_usuario_logado', JSON.stringify(response.data));\n//LocalStorageService.adicionarItem('_usuario_logado', response.data);\n_this.context.iniciarSessao(response.data);// faz com q os dados vá para provedorAutenticacao.js\n_this.props.history.push('/home');// faz com que redireciona para a página home \n}catch(e){console.log('error',e);}}).catch(function(erro){mensagemErro(erro.response.data);});console.log('executado a requisição.');case 2:case\"end\":return _context.stop();}}},_callee);}));_this.prepararCadastrar=function(){_this.props.history.push('/cadastro-usuarios');};_this.service=new UsuarioService();return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 offset-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bs-docs-section\",children:/*#__PURE__*/_jsx(Card,{title:\"Login\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bs-component\",children:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(FormGroup,{label:\"Email: *\",htmlFor:\"exampleInputEmail1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:this.state.email,onChange:function onChange(e){return _this2.setState({email:e.target.value});},className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Digite o Email\"})}),/*#__PURE__*/_jsx(FormGroup,{label:\"Senha: *\",htmlFor:\"exampleInputPassword1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:this.state.senha,onChange:function onChange(e){return _this2.setState({senha:e.target.value});},className:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Password\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"button\",{onClick:this.entrar,className:\"btn btn-success\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"pi pi-sign-in\"}),\"Entrar\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:this.prepararCadastrar,className:\"btn btn-danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"pi pi-plus\"}),\"Cadastrar\"]})]})})})})})})})});}}]);return Login;}(React.Component);Login.contextType=AuthContext;export default withRouter(Login);","map":{"version":3,"sources":["/home/clepson/Documentos/minhas-financas-app/src/views/login.js"],"names":["React","Card","FormGroup","withRouter","UsuarioService","LocalStorageService","mensagemErro","AuthContext","Login","state","email","senha","entrar","service","autenticar","then","response","context","iniciarSessao","data","props","history","push","e","console","log","catch","erro","prepararCadastrar","setState","target","value","Component","contextType"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Card from \"../components/card\";\nimport FormGroup from \"../components/form-group\";\nimport { withRouter } from \"react-router-dom\"\nimport UsuarioService from \"../app/service/usuarioService\";\nimport LocalStorageService from \"../app/service/localStorageService\";\nimport { mensagemErro } from \"../components/toastr\";\nimport { AuthContext } from '../main/provedorAutenticacao';\n\nclass Login extends React.Component {\n\n    state = {\n        email: '',\n        senha: ''\n    }\n\n    constructor(){\n        super();\n        this.service = new UsuarioService();\n    }\n\n    entrar = async () => {\n        //console.log('email: '+this.state.email);\n        //console.log('senha: '+this.state.senha);\n\n        this.service.autenticar({\n            email: this.state.email,\n            senha: this.state.senha\n        }).then(response => {\n            try {\n            //console.log(response)\n            //localStorage.setItem('_usuario_logado', JSON.stringify(response.data));\n            //LocalStorageService.adicionarItem('_usuario_logado', response.data);\n            this.context.iniciarSessao(response.data); // faz com q os dados vá para provedorAutenticacao.js\n\n            this.props.history.push('/home'); // faz com que redireciona para a página home \n            } catch(e) {\n                console.log('error', e)\n            }\n        }).catch(erro => {\n            mensagemErro(erro.response.data)\n        });\n\n        console.log('executado a requisição.')\n    }\n\n    prepararCadastrar = () => {\n        this.props.history.push('/cadastro-usuarios')\n    }\n\n    render(){\n        return(\n            <div className=\"row\">\n                <div className=\"col-md-6 offset-md-3\" >\n                    <div className=\"bs-docs-section\">\n                        <Card title=\"Login\" >\n                            <div className=\"row\">\n                                <div className  =\"col-lg-12\">\n                                    <div className=\"bs-component\">\n                                        <fieldset>\n                                            <FormGroup label=\"Email: *\" htmlFor=\"exampleInputEmail1\">\n                                                <input type=\"email\" \n                                                        value={this.state.email}\n                                                        onChange={(e) => this.setState({email: e.target.value})}\n                                                        className=\"form-control\" \n                                                        id=\"exampleInputEmail1\" \n                                                        aria-describedby=\"emailHelp\" placeholder=\"Digite o Email\" />\n                                            </FormGroup>\n                                            <FormGroup label=\"Senha: *\" htmlFor=\"exampleInputPassword1\">\n                                                <input type=\"password\"\n                                                        value={this.state.senha}\n                                                        onChange={(e) => this.setState({senha: e.target.value})} \n                                                        className=\"form-control\" \n                                                        id=\"exampleInputPassword1\" placeholder=\"Password\" />\n                                            </FormGroup>\n                                            <br />\n                                            <button onClick={this.entrar} className=\"btn btn-success\">\n                                                <i className=\"pi pi-sign-in\"></i>Entrar\n                                            </button>\n                                            <button onClick={this.prepararCadastrar} className=\"btn btn-danger\">\n                                                <i className=\"pi pi-plus\"></i>Cadastrar\n                                            </button>\n\n                                        </fieldset>\n                                    </div>\n                                </div>\n                            </div>\n                        </Card>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nLogin.contextType = AuthContext;\n\nexport default withRouter( Login );"]},"metadata":{},"sourceType":"module"}