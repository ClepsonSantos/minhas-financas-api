{"ast":null,"code":"import _classCallCheck from\"/home/clepson/Documentos/minhas-financas-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/clepson/Documentos/minhas-financas-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/clepson/Documentos/minhas-financas-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/clepson/Documentos/minhas-financas-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Card from\"../components/card\";import FormGroup from\"../components/form-group\";import{withRouter}from'react-router-dom';import UsuarioService from\"../app/service/usuarioService\";import{mensagemErro,mensagemSucesso}from\"../components/toastr\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CadastroUsuario=/*#__PURE__*/function(_React$Component){_inherits(CadastroUsuario,_React$Component);var _super=_createSuper(CadastroUsuario);function CadastroUsuario(){var _this;_classCallCheck(this,CadastroUsuario);_this=_super.call(this);_this.state={nome:'',email:'',senha:'',senhaRepeticao:''};_this.cadastrar=function(){var _this$state=_this.state,nome=_this$state.nome,email=_this$state.email,senha=_this$state.senha,senhaRepeticao=_this$state.senhaRepeticao;var usuario={nome:nome,email:email,senha:senha,senhaRepeticao:senhaRepeticao};try{_this.service.validar(usuario);}catch(erro){var msgs=erro.mensagens;msgs.forEach(function(msg){mensagemErro(msg);});return false;// para e execução do restante do código\n}_this.service.salvar(usuario).then(function(response){mensagemSucesso('Usuário cadastrodo com sucesso! Faça o login para acessar o sistema.');_this.props.history.push('/login');}).catch(function(error){mensagemErro(error.response.data);});};_this.cancelar=function(){_this.props.history.push('/login');};_this.service=new UsuarioService();return _this;}_createClass(CadastroUsuario,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(Card,{title:\"Cadastro de Usu\\xE1rio\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bs-component\",children:[/*#__PURE__*/_jsx(FormGroup,{label:\"Nome: *\",htmlFor:\"inputNome\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"inputNome\",className:\"form-control\",name:\"nome\",onChange:function onChange(e){return _this2.setState({nome:e.target.value});}})}),/*#__PURE__*/_jsx(FormGroup,{label:\"Email: *\",htmlFor:\"inputEmail\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"inputEmail\",className:\"form-control\",name:\"email\",onChange:function onChange(e){return _this2.setState({email:e.target.value});}})}),/*#__PURE__*/_jsx(FormGroup,{label:\"Senha: *\",htmlFor:\"inputSenha\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"inputSenha\",className:\"form-control\",name:\"senha\",onChange:function onChange(e){return _this2.setState({senha:e.target.value});}})}),/*#__PURE__*/_jsx(FormGroup,{label:\"Repita a Senha: *\",htmlFor:\"inputRepitaSenha\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"inputRepitaSenha\",className:\"form-control\",name:\"senha\",onChange:function onChange(e){return _this2.setState({senhaRepeticao:e.target.value});}})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"button\",{onClick:this.cadastrar,className:\"btn btn-success\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"pi pi-save\"}),\"Salvar\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:this.cancelar,className:\"btn btn-danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"pi pi-times\"}),\"Cancelar\"]})]})})})});}}]);return CadastroUsuario;}(React.Component);export default withRouter(CadastroUsuario);","map":{"version":3,"sources":["/home/clepson/Documentos/minhas-financas-app/src/views/cadastroUsuario.js"],"names":["React","Card","FormGroup","withRouter","UsuarioService","mensagemErro","mensagemSucesso","CadastroUsuario","state","nome","email","senha","senhaRepeticao","cadastrar","usuario","service","validar","erro","msgs","mensagens","forEach","msg","salvar","then","response","props","history","push","catch","error","data","cancelar","e","setState","target","value","Component"],"mappings":"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","sourcesContent":["import React from \"react\"; \nimport Card from \"../components/card\"\nimport FormGroup from \"../components/form-group\";\nimport { withRouter } from 'react-router-dom'\n\nimport UsuarioService from \"../app/service/usuarioService\";\nimport { mensagemErro, mensagemSucesso } from \"../components/toastr\";\n\nclass CadastroUsuario extends React.Component {\n\n    state = {\n        nome: '',\n        email: '',\n        senha: '',\n        senhaRepeticao: ''\n    }\n\n    constructor(){\n        super();\n        this.service = new UsuarioService();\n    }\n\n    cadastrar = () => {\n        const {nome, email, senha, senhaRepeticao} = this.state;\n        const usuario = {nome, email, senha, senhaRepeticao};\n\n        try {\n            this.service.validar(usuario);\n        } catch (erro) {\n            const msgs = erro.mensagens;\n            msgs.forEach((msg) => {\n                mensagemErro(msg);\n            });\n            return false; // para e execução do restante do código\n        }\n\n        this.service.salvar(usuario)\n            .then( response => {\n                mensagemSucesso('Usuário cadastrodo com sucesso! Faça o login para acessar o sistema.');\n                this.props.history.push('/login');\n            }).catch(error => {\n                mensagemErro(error.response.data);\n            });\n    }\n\n    cancelar = () => {\n        this.props.history.push('/login');\n    }\n\n    render(){\n        return(\n            <Card title=\"Cadastro de Usuário\" >\n                <div className=\"row\">\n                    <div className  =\"col-lg-12\">\n                        <div className=\"bs-component\">\n                            <FormGroup label=\"Nome: *\" htmlFor=\"inputNome\">\n                                <input type=\"text\"\n                                        id=\"inputNome\"\n                                        className=\"form-control\"\n                                        name=\"nome\"\n                                        onChange={e => this.setState({nome: e.target.value})} />\n                            </FormGroup>\n                            <FormGroup label=\"Email: *\" htmlFor=\"inputEmail\">\n                                <input type=\"text\"\n                                        id=\"inputEmail\"\n                                        className=\"form-control\"\n                                        name=\"email\"\n                                        onChange={e => this.setState({email: e.target.value})} />\n                            </FormGroup>\n                            <FormGroup label=\"Senha: *\" htmlFor=\"inputSenha\">\n                                <input type=\"password\"\n                                        id=\"inputSenha\"\n                                        className=\"form-control\"\n                                        name=\"senha\"\n                                        onChange={e => this.setState({senha: e.target.value})} />\n                            </FormGroup>\n                            <FormGroup label=\"Repita a Senha: *\" htmlFor=\"inputRepitaSenha\">\n                                <input type=\"password\"\n                                        id=\"inputRepitaSenha\"\n                                        className=\"form-control\"\n                                        name=\"senha\"\n                                        onChange={e => this.setState({senhaRepeticao: e.target.value})} />\n                            </FormGroup>\n                            <br />\n                            <button onClick={this.cadastrar} className=\"btn btn-success\">\n                                <i className=\"pi pi-save\"></i>Salvar\n                            </button>\n                            <button onClick={this.cancelar} className=\"btn btn-danger\">\n                                <i className=\"pi pi-times\"></i>Cancelar\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </Card>\n        )\n    }\n\n}\n\nexport default withRouter( CadastroUsuario );"]},"metadata":{},"sourceType":"module"}